"use strict";(self.webpackChunkwebpack5_app=self.webpackChunkwebpack5_app||[]).push([[179],{6379:function(e,r,t){var n=t(7294),a=t(3935),o=(t(1249),t(2526),t(1817),t(1539),t(2165),t(6992),t(8783),t(3948),t(7042),t(8309),t(1038),t(4916),t(1382)),c=t(1466),u=t(8889),i=(t(7941),t(7327),t(5003),t(4747),t(9337),t(8674),t(5666),t(1532),t(72),t(9137),t(1957),t(6306),t(103),t(4592),t(8276),t(5082),t(2813),t(8222),t(8563),t(336),t(7512),t(9600),t(9601),t(9669)),l=t.n(i),f=l().CancelToken,s=new Map;function p(e){var r=e.url,t=e.method,n=e.params,a=e.data;return"string"==typeof a&&(a=JSON.parse(a)),[r,t,JSON.stringify(n),JSON.stringify(a)].join("&")}function y(e){var r=p(e);s.has(r)&&(s.get(r)(r),s.delete(r))}var m=function(e,r){var t=Object.assign({repeat_request_cancel:!0},r),n=l().create({baseURL:"",timeout:3e4});return n.interceptors.request.use((function(e){return y(e),t.repeat_request_cancel&&function(e){var r=p(e);e.cancelToken=e.cancelToken||new f((function(e){s.has(r)||s.set(r,e)}))}(e),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return y(e.config),e.data}),(function(e){return l().isCancel(e)&&console.warn("取消重复请求了",e.message),e.config&&y(e.config),Promise.reject(e)})),n(e)};function d(e,r,t,n,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void t(e)}u.done?r(i):Promise.resolve(i).then(n,a)}function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],c=!0,u=!1;try{for(t=t.call(e);!(c=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);c=!0);}catch(e){u=!0,a=e}finally{try{c||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){E(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function E(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e,r){switch(r.type){case"FETCH_INIT":return b(b({},e),{},{loading:!0,Error:!1});case"FETCH_SUCCESS":return b(b({},e),{},{loading:!1,Error:!1,data:r.payload});case"FETCH_FAILURE":return b(b({},e),{},{loading:!1,Error:!0});default:throw new Error}}function O(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],c=!0,u=!1;try{for(t=t.call(e);!(c=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);c=!0);}catch(e){u=!0,a=e}finally{try{c||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function j(e){var r=e.data,t=e.loading,a=e.Error;return n.createElement("div",null,n.createElement(o.Z,{tip:"加载中...",spinning:t},a&&n.createElement("p",null,"出错了!!!"),n.createElement("ul",null,r&&r.map((function(e,r){return n.createElement("li",{key:e.objectID},n.createElement("a",{href:e.url},r+1,"：",e.title))})))))}var C=function(){var e=O((0,n.useState)("react"),2),r=e[0],t=e[1],a=O(function(e,r){var t=v((0,n.useState)(e),2),a=t[0],o=t[1],c=v((0,n.useReducer)(w,{loading:!1,Error:!1,data:r}),2),u=c[0],i=c[1];return(0,n.useEffect)((function(){var e=!1,r=function(){var r,t=(r=regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:"FETCH_INIT"}),r.prev=1,r.next=4,m(a);case 4:t=r.sent,e||i({type:"FETCH_SUCCESS",payload:t.hits}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.warn(r.t0),e||i({type:"FETCH_FAILURE"});case 12:case"end":return r.stop()}}),r,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function c(e){d(o,n,a,c,u,"next",e)}function u(e){d(o,n,a,c,u,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return r(),function(){e=!0}}),[a]),[u,o]}("https://hn.algolia.com/api/v1/search?query=react",[]),2),o=a[0],i=o.data,l=o.loading,f=o.Error,s=a[1];return n.createElement("div",null,n.createElement(c.Z,{value:r,style:{width:240},onChange:function(e){return t(e.target.value)}}),n.createElement(u.Z,{style:{marginLeft:20},type:"primary",onClick:function(){return s("https://hn.algolia.com/api/v1/search?query=".concat(r))}},"Search"),n.createElement(j,{data:i,loading:l,Error:f}))},k=function(){return n.createElement("div",null,n.createElement(C,null))};t(7660),a.render(n.createElement(k,null),document.getElementById("app"))}},function(e){e.O(0,[216],(function(){return 6379,e(e.s=6379)})),e.O()}]);