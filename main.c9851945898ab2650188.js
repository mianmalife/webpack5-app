"use strict";(self.webpackChunkwebpack5_app=self.webpackChunkwebpack5_app||[]).push([[179],{291:function(e,t,r){var n=r(7294),a=r(3935),l=r(9342),o=(r(7327),r(1539),r(6699),r(2023),r(8309),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948),r(7042),r(1038),r(4916),r(6974)),u=(r(5306),r(6669)),c={isAuthenticated:!1,signin:function(e){c.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){c.isAuthenticated=!1,setTimeout(e,100)}},i=n.createContext(null);function s(e){var t=e.children,r=n.useState(null),a=r[0],l=r[1],o={user:a,signin:function(e,t){return c.signin((function(){l(e),t()}))},signout:function(e){return c.signout((function(){l(null),e()}))}};return n.createElement(i.Provider,{value:o},t)}function m(){return n.useContext(i)}function f(){var e=m(),t=(0,o.s0)();return e.user?n.createElement("p",{className:"user__header__opt"},"Welcome ",e.user,"!"," ",n.createElement("a",{onClick:function(){e.signout((function(){return t("/")}))}},"Sign out")):n.createElement("p",null,"You are not logged in.")}function p(e){var t=e.children,r=m(),a=(0,o.TH)();return r.user?t:n.createElement(o.Fg,{to:"/login",state:{from:a},replace:!0})}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(){var e,t,r=(e=(0,n.useState)({activeMenu:"home"}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],c=r[1],i=(0,o.TH)();return(0,n.useEffect)((function(){var e=i.pathname;c("/"===e?{activeMenu:"home"}:{activeMenu:e.replace("/","")})}),[i]),n.createElement("div",null,n.createElement(u.Z,{onClick:function(e){c({activeMenu:e.key})},selectedKeys:[a.activeMenu],theme:"light",mode:"horizontal"},n.createElement(u.Z.Item,{key:"home"},n.createElement(l.rU,{to:"/home"},"HOME")),n.createElement(u.Z.Item,{key:"picture"},n.createElement(l.rU,{to:"/picture"},"PICTURE")),n.createElement(u.Z.Item,{key:"users"},n.createElement(l.rU,{to:"/users"},"USER")),n.createElement(u.Z.Item,{key:"search"},n.createElement(l.rU,{to:"/search"},"SEARCH"))),n.createElement(f,null),n.createElement("div",{className:"container"},n.createElement(o.j3,null)))},h=(r(1249),r(1382)),E=r(924),v=r(7884),g=(r(7941),r(5003),r(4747),r(9337),r(8674),r(5666),r(1532),r(72),r(9137),r(8463),r(6306),r(103),r(4592),r(8276),r(5082),r(2813),r(8222),r(8563),r(336),r(7512),r(9600),r(9601),r(9669)),b=r.n(g),w=b().CancelToken,S=new Map;function A(e){var t=e.url,r=e.method,n=e.params,a=e.data;return"string"==typeof a&&(a=JSON.parse(a)),[t,r,JSON.stringify(n),JSON.stringify(a)].join("&")}function O(e){var t=A(e);S.has(t)&&(S.get(t)(t),S.delete(t))}var j=function(e,t){var r=Object.assign({repeat_request_cancel:!0},t),n=b().create({baseURL:"",timeout:3e4});return n.interceptors.request.use((function(e){return O(e),r.repeat_request_cancel&&function(e){var t=A(e);e.cancelToken=e.cancelToken||new w((function(e){S.has(t)||S.set(t,e)}))}(e),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return O(e.config),e.data}),(function(e){return b().isCancel(e)&&console.warn("取消重复请求了",e.message),e.config&&O(e.config),Promise.reject(e)})),n(e)};function I(e,t,r,n,a,l,o){try{var u=e[l](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){switch(t.type){case"FETCH_INIT":return _(_({},e),{},{loading:!0,Error:!1});case"FETCH_SUCCESS":return _(_({},e),{},{loading:!1,Error:!1,data:t.payload});case"FETCH_FAILURE":return _(_({},e),{},{loading:!1,Error:!0});default:throw new Error}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=e.data,r=e.loading,a=e.Error;return n.createElement("div",null,n.createElement(h.Z,{tip:"加载中...",spinning:r},a&&n.createElement("p",null,"出错了!!!"),n.createElement("ul",null,t&&t.map((function(e,t){return n.createElement("li",{key:e.objectID},n.createElement("a",{href:e.url},t+1,"：",e.title))})))))}var M=function(){var e=Z((0,n.useState)("react"),2),t=e[0],r=e[1],a=Z(function(e,t){var r=C((0,n.useState)(e),2),a=r[0],l=r[1],o=C((0,n.useReducer)(P,{loading:!1,Error:!1,data:t}),2),u=o[0],c=o[1];return(0,n.useEffect)((function(){var e=!1,t=function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"FETCH_INIT"}),t.prev=1,t.next=4,j(a);case 4:r=t.sent,e||c({type:"FETCH_SUCCESS",payload:r.hits}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn(t.t0),e||c({type:"FETCH_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var l=t.apply(e,r);function o(e){I(l,n,a,o,u,"next",e)}function u(e){I(l,n,a,o,u,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return t(),function(){e=!0}}),[a]),[u,l]}("https://hn.algolia.com/api/v1/search?query=react",[]),2),u=a[0],c=u.data,i=u.loading,s=u.Error,m=a[1];return n.createElement("div",null,n.createElement("p",null,n.createElement(l.rU,{to:"helloOutlet"},"Show Hello Outlet")),n.createElement(o.j3,null),n.createElement(E.Z,{value:t,style:{width:240},onChange:function(e){return r(e.target.value)}}),n.createElement(v.Z,{style:{marginLeft:20},type:"primary",onClick:function(){return m("https://hn.algolia.com/api/v1/search?query=".concat(t))}},"Search"),n.createElement(x,{data:c,loading:i,Error:s}))},N=r(1069),W=r(341),R=function(){return n.createElement(N.Z,{width:200,src:W})},D=r(5278),F=function(){return n.createElement(D.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:n.createElement(v.Z,{type:"primary"},n.createElement(l.rU,{to:"/home"},"Back Home"))})},L=function(){return n.createElement("div",null,n.createElement("h2",null,"Hello World Outlet"),n.createElement(l.rU,{to:"/home"},"Back HOME"))},q=r(7461),$=r(8453);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=function(e){var t,r,a=e.userData,o=e.searchUser,u=(t=(0,l.lr)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],i=u[1],s=c.get("name")||"";return console.log(s),n.createElement("div",null,n.createElement("p",{style:{width:500}},n.createElement(E.Z,{placeholder:"search user",onPressEnter:function(e){var t=e.target.value;i(t?{name:e.target.value}:{}),o(t)}})),n.createElement(q.ZP,{itemLayout:"horizontal",dataSource:a,renderItem:function(e){return n.createElement(q.ZP.Item,{actions:[n.createElement(l.rU,{key:e.id,to:"".concat(e.id)},"detail")]},n.createElement(q.ZP.Item.Meta,{avatar:n.createElement($.C,{src:"https://joeschmoe.io/api/v1/random"}),title:n.createElement("a",{href:"https://ant.design"},e.name),description:"hello world"}))}}))},z=(r(9826),function(e){var t=e.onRemoveUser,r=e.userData,a=(0,o.UO)().userId;return n.createElement("div",null,n.createElement("h2",null,"Hello ",r.find((function(e){return e.id===a})).name),n.createElement(l.rU,{to:"/users"},"Back User |"),n.createElement("a",{type:"primary",onClick:function(){return t(a)}}," Delete user"))}),K=function(){var e,t,r=(0,n.useState)(""),a=r[0],l=r[1],u=(0,o.s0)(),c=(0,o.TH)(),i=m(),s=(null===(t=null===(e=c.state)||void 0===e?void 0:e.from)||void 0===t?void 0:t.pathname)||"/";return n.createElement("div",{className:"login__wrapper"},n.createElement("label",{className:"user__label"},"Enter any username to log in"),n.createElement(E.Z,{className:"username__input",placeholder:"please input username",value:a,onChange:function(e){l(e.target.value)}}),n.createElement("p",{className:"login__btn"},n.createElement(v.Z,{type:"primary",onClick:function(){a.trim()&&i.signin(a,(function(){u(s,{replace:!0})}))}},"Login")))};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=[{name:"Annie Hastur",id:"1"},{name:"ashe",id:"2"},{name:"Alistar",id:"3"},{name:"Twisted Fate ",id:"4"}],Q=function(){var e,t,r=(e=(0,n.useState)(G),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],l=r[1],u=(0,o.s0)();return n.createElement(s,null,n.createElement("div",{className:"routes__container"},n.createElement(o.Z5,null,n.createElement(o.AW,{element:n.createElement(p,null,n.createElement(d,null))},n.createElement(o.AW,{index:!0,element:n.createElement(M,null)}),n.createElement(o.AW,{path:"/",element:n.createElement(M,null)}),n.createElement(o.AW,{path:"home",element:n.createElement(M,null)},n.createElement(o.AW,{path:"helloOutlet",element:n.createElement(L,null)})),n.createElement(o.AW,{path:"picture",element:n.createElement(R,null)}),n.createElement(o.AW,{path:"users",element:n.createElement(J,{userData:a,searchUser:function(e){l(e?function(t){return G.filter((function(t){return t.name.includes(e)}))}:G)}})}),n.createElement(o.AW,{path:"users/:userId",element:n.createElement(z,{onRemoveUser:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))})),u("/users")},userData:a})}),n.createElement(o.AW,{path:"*",element:n.createElement(F,null)})),n.createElement(o.AW,{path:"login",element:n.createElement(K,null)}))))};r(7660),a.render(n.createElement(l.UT,null,n.createElement(Q,null)),document.getElementById("app"))},341:function(e,t,r){e.exports=r.p+"images/91263cfc26be81d9993a.png"}},function(e){e.O(0,[216],(function(){return 291,e(e.s=291)})),e.O()}]);