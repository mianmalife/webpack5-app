"use strict";(self.webpackChunkwebpack5_app=self.webpackChunkwebpack5_app||[]).push([[179],{6991:function(e,t,n){var r=n(7294),a=n(3935),l=n(9342),o=(n(7327),n(1539),n(6699),n(2023),n(8309),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038),n(4916),n(6974)),c=(n(5306),n(6669)),i={isAuthenticated:!1,signin:function(e){i.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){i.isAuthenticated=!1,setTimeout(e,100)}},u=r.createContext(null);function s(e){var t=e.children,n=r.useState(null),a=n[0],l=n[1],o={user:a,signin:function(e,t){return i.signin((function(){l(e),t()}))},signout:function(e){return i.signout((function(){l(null),e()}))}};return r.createElement(u.Provider,{value:o},t)}function m(){return r.useContext(u)}function f(){var e=m(),t=(0,o.s0)();return e.user?r.createElement("p",{className:"user__header__opt"},"Welcome ",e.user,"!"," ",r.createElement("a",{onClick:function(){e.signout((function(){return t("/")}))}},"Sign out")):r.createElement("p",null,"You are not logged in.")}function d(e){var t=e.children,n=m(),a=(0,o.TH)();return n.user?t:r.createElement(o.Fg,{to:"/login",state:{from:a},replace:!0})}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(){var e,t,n=(e=(0,r.useState)({activeMenu:"home"}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],i=n[1],u=(0,o.TH)();return(0,r.useEffect)((function(){var e=u.pathname;i("/"===e?{activeMenu:"home"}:{activeMenu:e.replace("/","")})}),[u]),r.createElement("div",null,r.createElement(c.Z,{onClick:function(e){i({activeMenu:e.key})},selectedKeys:[a.activeMenu],theme:"light",mode:"horizontal"},r.createElement(c.Z.Item,{key:"home"},r.createElement(l.rU,{to:"/home"},"HOME")),r.createElement(c.Z.Item,{key:"picture"},r.createElement(l.rU,{to:"/picture"},"PICTURE")),r.createElement(c.Z.Item,{key:"users"},r.createElement(l.rU,{to:"/users"},"USER")),r.createElement(c.Z.Item,{key:"search"},r.createElement(l.rU,{to:"/search"},"SEARCH"))),r.createElement(f,null),r.createElement("div",{className:"container"},r.createElement(o.j3,null)))},h=(n(1249),n(1382)),E=n(924),g=n(7884),v=(n(7941),n(5003),n(4747),n(9337),n(8674),n(5666),n(1532),n(72),n(9137),n(8463),n(6306),n(103),n(4592),n(8276),n(5082),n(2813),n(8222),n(8563),n(336),n(7512),n(9600),n(9601),n(9669)),b=n.n(v),S=b().CancelToken,w=new Map;function A(e){var t=e.url,n=e.method,r=e.params,a=e.data;return"string"==typeof a&&(a=JSON.parse(a)),[t,n,JSON.stringify(r),JSON.stringify(a)].join("&")}function O(e){var t=A(e);w.has(t)&&(w.get(t)(t),w.delete(t))}var k=function(e,t){var n=Object.assign({repeat_request_cancel:!0},t),r=b().create({baseURL:"",timeout:3e4});return r.interceptors.request.use((function(e){return O(e),n.repeat_request_cancel&&function(e){var t=A(e);e.cancelToken=e.cancelToken||new S((function(e){w.has(t)||w.set(t,e)}))}(e),e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return O(e.config),e.data}),(function(e){return b().isCancel(e)&&console.warn("取消重复请求了",e.message),e.config&&O(e.config),Promise.reject(e)})),r(e)};function j(e,t,n,r,a,l,o){try{var c=e[l](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){switch(t.type){case"FETCH_INIT":return D(D({},e),{},{loading:!0,Error:!1});case"FETCH_SUCCESS":return D(D({},e),{},{loading:!1,Error:!1,data:t.payload});case"FETCH_FAILURE":return D(D({},e),{},{loading:!1,Error:!0});default:throw new Error}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t=e.data,n=e.loading,a=e.Error;return r.createElement("div",null,r.createElement(h.Z,{tip:"加载中...",spinning:n},a&&r.createElement("p",null,"出错了!!!"),r.createElement("ul",null,t&&t.map((function(e,t){return r.createElement("li",{key:e.objectID},r.createElement("a",{href:e.url},t+1,"：",e.title))})))))}var H=function(){var e=x((0,r.useState)("react"),2),t=e[0],n=e[1],a=x(function(e,t){var n=I((0,r.useState)(e),2),a=n[0],l=n[1],o=I((0,r.useReducer)(U,{loading:!1,Error:!1,data:t}),2),c=o[0],i=o[1];return(0,r.useEffect)((function(){var e=!1,t=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"FETCH_INIT"}),t.prev=1,t.next=4,k(a);case 4:n=t.sent,e||i({type:"FETCH_SUCCESS",payload:n.hits}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn(t.t0),e||i({type:"FETCH_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var l=t.apply(e,n);function o(e){j(l,r,a,o,c,"next",e)}function c(e){j(l,r,a,o,c,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return t(),function(){e=!0}}),[a]),[c,l]}("https://hn.algolia.com/api/v1/search?query=react",[]),2),c=a[0],i=c.data,u=c.loading,s=c.Error,m=a[1];return r.createElement("div",null,r.createElement("p",null,r.createElement(l.rU,{to:"helloOutlet"},"Show Hello Outlet")),r.createElement(o.j3,null),r.createElement(E.Z,{value:t,style:{width:240},onChange:function(e){return n(e.target.value)}}),r.createElement(g.Z,{style:{marginLeft:20},type:"primary",onClick:function(){return m("https://hn.algolia.com/api/v1/search?query=".concat(t))}},"Search"),r.createElement(N,{data:i,loading:u,Error:s}))},Z=n(1069),M=n(341),R=function(){return r.createElement(Z.Z,{width:200,src:M})},W=n(5278),F=function(){return r.createElement(W.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.createElement(g.Z,{type:"primary"},r.createElement(l.rU,{to:"/home"},"Back Home"))})},L=function(){return r.createElement("div",null,r.createElement("h2",null,"Hello World Outlet"),r.createElement(l.rU,{to:"/home"},"Back HOME"))},$=n(7461),q=n(8453);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t,n,a=e.userData,o=e.searchUser,c=(t=(0,l.lr)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=c[0],u=c[1],s=i.get("name")||"";return console.log(s),r.createElement("div",null,r.createElement("p",{style:{width:500}},r.createElement(E.Z,{placeholder:"search user",onPressEnter:function(e){var t=e.target.value;u(t?{name:e.target.value}:{}),o(t)}})),r.createElement($.ZP,{itemLayout:"horizontal",dataSource:a,renderItem:function(e){return r.createElement($.ZP.Item,{actions:[r.createElement(l.rU,{key:e.id,to:"".concat(e.id)},"detail")]},r.createElement($.ZP.Item.Meta,{avatar:r.createElement(q.C,{src:"https://joeschmoe.io/api/v1/random"}),title:r.createElement("a",{href:"https://ant.design"},e.name),description:"hello world"}))}}))},z=(n(9826),function(e){var t=e.onRemoveUser,n=e.userData,a=(0,o.UO)().userId;return r.createElement("div",null,r.createElement("h2",null,"Hello ",n.find((function(e){return e.id===a})).name),r.createElement(l.rU,{to:"/users"},"Back User |"),r.createElement("a",{type:"primary",onClick:function(){return t(a)}}," Delete user"))}),K=(n(561),n(361)),X=n.n(K);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q={fruit:[{id:1,name:"apple",show:!1,children:[{id:"1-1",name:"apple 8"},{id:"1-2",name:"apple 9"},{id:"1-3",name:"apple x"},{id:"1-4",name:"apple 11"}]},{id:2,name:"orange"},{id:3,name:"banana"},{id:4,name:"pear"}],book:[{id:5,name:"三国演义"},{id:6,name:"水浒传"},{id:7,name:"西游记",show:!1,children:[{id:"7-1",name:"苦战狮驼岭"},{id:"7-2",name:"受阻小雷音"}]},{id:8,name:"红楼梦",show:!1,children:[{id:"8-1",name:"宝玉挨打"}]}]},V={fruit:[],book:[]},ee=function(){var e=this,t=Y((0,r.useState)(Q),2),n=t[0],a=t[1],l=Y((0,r.useState)(V),2),o=l[0],c=l[1],i=(0,r.useRef)(null),u=function(e,t,n,r){console.log(r,"onDragStart"),r.dataTransfer.setData("draggedId",e),r.dataTransfer.setData("name",t),r.dataTransfer.setData("category",n)},s=function(e){e.target.style.border="1px dashed #1DA57A"},m=function(e){console.log(e.target,"onDragOver"),e.preventDefault()},f=function(e){e.target.style.border="1px dashed #ccc"},d=function(e,t){console.log(t.target,"onDrop",t.target.parentNode);var n=t.dataTransfer.getData("draggedId"),r=t.dataTransfer.getData("name"),a=t.dataTransfer.getData("category");if(e===a&&!o[a].find((function(e){return e.id===n}))){var l=X()(o);l[e].push({key:n,id:n,name:r}),c(l)}t.target.style="1px dashed #ccc",t.preventDefault()},p=function(e,t){var n=X()(o);n[t].forEach((function(r,a){r.id===e&&n[t].splice(a,1)})),c(n)},y=function(e){console.log(o,"onDragEnd")},h=function(e,t){var r=X()(n),l=r[t].map((function(t){return t.id===e&&(t.show=!t.show),t}));r[t]=l,console.log(r,"copy"),a(r)};return(0,r.useEffect)((function(){a(n)}),[]),r.createElement("div",{className:"container__drag"},r.createElement("div",{className:"left__demension"},Object.keys(n).map((function(t){return r.createElement("div",{key:t,className:"category"},r.createElement("h3",null,t),r.createElement("ul",null,n[t].map((function(n){return r.createElement(r.Fragment,{key:n.id},r.createElement("li",{onDragStart:u.bind(e,n.id,n.name,t),onDragEnd:y,draggable:!0,key:n.id,className:"demesion__lis"},n.children&&n.children.length>0&&r.createElement("mark",{onClick:h.bind(e,n.id,t)},"^"),r.createElement("div",null,n.name)),r.createElement("div",{style:{height:n.show?"auto":0},className:"child__content"},n.children&&n.children.length>0&&n.children.map((function(n){return r.createElement("li",{onDragStart:u.bind(e,n.id,n.name,t),onDragEnd:y,draggable:!0,key:n.id,className:"child__lis"},n.name)}))))}))))}))),r.createElement("div",{className:"right__condition"},Object.keys(o).map((function(t){return r.createElement("div",{key:t,className:"category"},r.createElement("h3",null,t),r.createElement("ul",{className:"drop__content"},o[t].map((function(n){return r.createElement("li",{key:n.id,"data-id":n.id,onDragStart:u.bind(e,n.id,n.name,t)},r.createElement("div",null,n.name),r.createElement("mark",{onClick:p.bind(e,n.id,t)},"X"))})),r.createElement("p",{onDragEnter:s,onDragOver:m,onDragLeave:f,onDrop:d.bind(e,t),className:"empty__state",ref:i},"往这里拖!")))}))))};function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=[{name:"Annie Hastur",id:"1"},{name:"ashe",id:"2"},{name:"Alistar",id:"3"},{name:"Twisted Fate ",id:"4"}],re=function(){var e,t,n=(e=(0,r.useState)(ne),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],l=n[1],c=(0,o.s0)();return r.createElement(s,null,r.createElement("div",{className:"routes__container"},r.createElement(o.Z5,null,r.createElement(o.AW,{element:r.createElement(d,null,r.createElement(y,null))},r.createElement(o.AW,{index:!0,element:r.createElement(H,null)}),r.createElement(o.AW,{path:"/",element:r.createElement(H,null)}),r.createElement(o.AW,{path:"home",element:r.createElement(H,null)},r.createElement(o.AW,{path:"helloOutlet",element:r.createElement(L,null)})),r.createElement(o.AW,{path:"picture",element:r.createElement(R,null)}),r.createElement(o.AW,{path:"users",element:r.createElement(J,{userData:a,searchUser:function(e){l(e?function(t){return ne.filter((function(t){return t.name.includes(e)}))}:ne)}})}),r.createElement(o.AW,{path:"users/:userId",element:r.createElement(z,{onRemoveUser:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))})),c("/users")},userData:a})}),r.createElement(o.AW,{path:"*",element:r.createElement(F,null)})),r.createElement(o.AW,{path:"login",element:r.createElement(ee,null)}))))};n(7660),a.render(r.createElement(l.UT,null,r.createElement(re,null)),document.getElementById("app"))},341:function(e,t,n){e.exports=n.p+"images/91263cfc26be81d9993a.png"}},function(e){e.O(0,[216],(function(){return 6991,e(e.s=6991)})),e.O()}]);